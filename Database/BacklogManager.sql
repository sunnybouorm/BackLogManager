CREATE TABLE Activity(Name VARCHAR(255) NOT NULL PRIMARY KEY);
CREATE TABLE Listing(LID INT NOT NULL PRIMARY KEY,Title VARCHAR(255) NOT NULL, ActivityName VARCHAR(255), FOREIGN KEY(ActivityName) REFERENCES Activity(Name) ON DELETE CASCADE);
CREATE TABLE UserDefinedField(UDFID INT NOT NULL PRIMARY KEY,Name VARCHAR(255) NOT NULL,DataType VARCHAR(255) NOT NULL,Description VARCHAR(255),ActivityName VARCHAR(255),FOREIGN KEY(ActivityName) REFERENCES Activity(Name) ON DELETE CASCADE);
CREATE TABLE UDFentry(Data BLOB, UDFname VARCHAR(255) NOT NULL, FOREIGN KEY(UDFname) REFERENCES UserDefinedField(Name) ON DELETE CASCADE);
CREATE TABLE Listing_UDFentry(LID INT NOT NULL, UDFname VARCHAR(255) NOT NULL, EntryData BLOB, FOREIGN KEY(LID) REFERENCES Listing(LID), FOREIGN KEY(UDFname) REFERENCES UserDefinedField(Name), FOREIGN KEY(EntryData) REFERENCES UDFentry(Data) );