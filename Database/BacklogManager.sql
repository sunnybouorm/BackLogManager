CREATE TABLE Activity(Name VARCHAR(255) NOT NULL PRIMARY KEY);
CREATE TABLE Listing(LID INT NOT NULL PRIMARY KEY,Title VARCHAR(255) NOT NULL, ActivityName VARCHAR(255) NOT NULL, FOREIGN KEY(ActivityName) REFERENCES Activity(Name) ON DELETE CASCADE);
CREATE TABLE UserDefinedField(UDFID INT NOT NULL PRIMARY KEY,Name VARCHAR(255) NOT NULL,DataType VARCHAR(255) NOT NULL,Description VARCHAR(255),ActivityName VARCHAR(255) NOT NULL, FOREIGN KEY(ActivityName) REFERENCES Activity(Name) ON DELETE CASCADE);
CREATE TABLE UDFentry(Data BLOB, UDFID VARCHAR(255) NOT NULL, FOREIGN KEY(UDFID) REFERENCES UserDefinedField(UDFID) ON DELETE CASCADE);
CREATE TABLE Listing_UDFentry(LID INT NOT NULL, UDFID VARCHAR(255) NOT NULL, EntryData BLOB, FOREIGN KEY(LID) REFERENCES Listing(LID) ON DELETE CASCADE, FOREIGN KEY(UDFID) REFERENCES UserDefinedField(UDFID) ON DELETE CASCADE, FOREIGN KEY(EntryData) REFERENCES UDFentry(Data) ON DELETE CASCADE );